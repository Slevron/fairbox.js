function Action_popup(t,e){this.type=t,this["class"]=e,this.switch_action(this.type,this["class"])}function Create_object(t,e,i,o,s){this.type=t,this["class"]=e,this.src=i,this.url=o,this.object=null,this.data=s,this.switchType(this.type,this["class"],this.src,this.url,this.data)}function Create_icon(t,e,i){this.name=t,this.type=e,this["class"]=i,this.object=null,this.switch_icon(this.name,this.type,this["class"])}function Preview_object(t,e,i,o,s){this.type=t,this["class"]=e,this.src=i,this.alt=s,this.container=o,this.object=null,this.createImage(this.type,this["class"],this.src,this.container,this.alt)}Action_popup.prototype.switch_action=function(t,e){switch(t){case"margin":this.add_margin(e);break;case"resize":this.resize_popup(e);break;case"add":this.add_class(e);break;case"scroll":this.save_scroll(e)}},Action_popup.prototype.save_scroll=function(t){oldScroll=$(t).scrollTop(),$(t).scrollTop(0)},Action_popup.prototype.add_class=function(t){$(html).addClass(t)},Action_popup.prototype.resize_popup=function(t){this.height=$(window).height(),$("."+t).css("height",this.height)},Create_object.prototype.switchType=function(t,e,i,o,s){var c=this;null===i?null===o?this.createDiv(t,e):(this.createMedia(t,e,o,s),c.init_pos(e,{left:0,right:0})):(this.createImage(t,e,i),c.init_pos(e,{left:0,right:0}))},Create_object.prototype.createDiv=function(t,e){switch(e===class_container_nav?this.height=$(window).height()-100:this.height=$(window).height(),this.object=$(t,{"class":e,height:this.height}),e){case class_container:this.object.appendTo("body");break;case class_container_preview:this.object.appendTo("."+class_container_nav);break;default:this.object.appendTo("."+class_container)}},Create_object.prototype.createImage=function(t,e,i){this.object=$(t,{"class":e,src:i}),this.object.appendTo("."+class_container_media)},Create_object.prototype.createMedia=function(t,e,i,o){this.object=$(t,{"class":e,src:i,frameborder:0,width:$(window).width(),height:$(window).height()}).attr("data-src",o),this.object.appendTo("."+class_container_media)},Create_object.prototype.init_pos=function(t,e){var i=this;setTimeout(function(){$(i.object).css(e)},100)},Create_icon.prototype.switch_icon=function(t,e,i){switch(t){case"close":this.init_icon(t,e,i);break;case"direction-left":this.init_icon(t,e,i);break;case"direction-right":this.init_icon(t,e,i)}},Create_icon.prototype.init_icon=function(t,e,i){this.object=$(e,{id:"#"+t,"class":i}),this.object.appendTo("."+class_container_nav)},Create_icon.prototype.close_icon=function(){$("."+class_container).remove(),$(html).removeClass(class_body),$(window).scrollTop(oldScroll)},Create_icon.prototype.arrow_icon=function(t,e){var i=this;"direction-left"===t?Element.index()>0&&(Element=e||Element.prev(),i.arrow_action(Element),i.switchPreview()):Element.index()<nombre_media-1&&(Element=e||Element.next(),i.arrow_action(Element),i.switchPreview())},Create_icon.prototype.arrow_action=function(t){$(".showbox_container").empty(),FairBox.init_media(t),Element=t},Create_icon.prototype.switchPreview=function(){$(".preview_image").removeClass("active"),Element.addClass("active"),$(".showbox_second_preview").animate({scrollLeft:Element.position().left},1e3)},function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.Fairbox=e(t.jQuery)}(this,function(t){function e(){var e=this;t("img[data-fairbox]").click(function(){t(this).find('[data-fairbox!=""]')&&e.initPopup(t(this))})}return e.prototype.option=function(t){this.disablePreview=t.disablePreview,this.disableSlider=t.disableSlider},e.prototype.initPopup=function(e){Element=e,nombre_media=t(class_media_image).length,this.init_element(e,this.disablePreview),this.init_action(),this.init_icon(this.disableSlider)},e.prototype.init_element=function(e,i){new Create_object("<div>",class_container,null,null),new Create_object("<div>",class_container_nav,null,null),new Create_object("<div>",class_container_media,null,null);if(i!==!0){new Create_object("<div>",class_container_preview,null,null)}new Preview_object("<div>",class_second_preview,null,class_container_preview);this.init_media(e),t("img[data-fairbox]").each(function(){var e="",i=t(this).attr("src");if(t(this).data("youtube")){var o=t(this).data("youtube");e="video"}showbox_preview=new Preview_object("<img>","preview_image "+e,i,class_second_preview,o)})},e.prototype.init_media=function(t){t.data("youtube")?(source=t.find("img").data("youtube")||t.data("youtube"),sourceImg=t.find("img").attr("src")||t.attr("src"),showbox_media=new Create_object("<iframe>",class_media,null,urlYoutube+source+"?autoplay=1",sourceImg)):(source=t.find("img").attr("src")||t.attr("src"),showbox_media=new Create_object("<img>",class_media,source,null))},e.prototype.init_icon=function(t){showbox_close=new Create_icon("close","<i>",class_icon_close),t!==!0&&(showbox_left=new Create_icon("direction-left","<i>",class_icon_left),showbox_right=new Create_icon("direction-right","<i>",class_icon_right)),this.init_input(showbox_close,showbox_right,showbox_left,"close","direction-right","direction-left")},e.prototype.init_action=function(){new Action_popup("scroll",window),new Action_popup("add",class_body);window.onresize=function(){new Action_popup("resize",class_container),new Action_popup("resize",class_container_nav)}},e.prototype.init_input=function(e,i,o,s,c,n){t("."+s).click(function(t){e.close_icon()}),t("."+c).click(function(t){i.arrow_icon(c)}),t("."+n).click(function(t){o.arrow_icon(n)}),t(window).keydown(function(t){27==t.which&&e.close_icon(),39==t.which&&i.arrow_icon(c),37==t.which&&o.arrow_icon(n)}),this.mouseMove(window)},e.prototype.mouseMove=function(e){var i;e.addEventListener("mousemove",function(){t("."+class_container_nav).css("opacity",1),clearTimeout(i),i=setTimeout(function(){t("."+class_container_nav).css("opacity",0)},5e3)})},FairBox=new e}),Preview_object.prototype.createImage=function(t,e,i,o,s){this.object=$(t,{"class":e,src:i}).attr("data-youtube",s),this.object.appendTo("."+o),e===class_second_preview?this.addWidth():(this.addActive(showbox_media),this.clickPreview())},Preview_object.prototype.addWidth=function(){$(this.object).css("width",$(this.object).parent().width())},Preview_object.prototype.addActive=function(t){console.log(t),$(t).attr("src")!==$(this.object).attr("src")&&$(t).attr("data")!==$(this.object).attr("src")||(Element=$(this.object),$(".showbox_second_preview").animate({scrollLeft:Element.position().left},1e3),$(this.object).addClass("active"))},Preview_object.prototype.clickPreview=function(){$(this.object).click(function(){$(this).index()!==Element.index()&&($(this).index()>Element.index()?showbox_right.arrow_icon("direction-right",$(this)):showbox_left.arrow_icon("direction-left",$(this)))})};var html="html,body",class_container="showbox",class_container_nav="showbox_container_nav",class_container_preview="showbox_container_preview",class_second_preview="showbox_second_preview",class_container_media="showbox_container",class_media="showbox_media",class_icon_close="showbox_icon close fa fa-times",class_icon_left="showbox_icon direction-left fa fa-chevron-left",class_icon_right="showbox_icon direction-right fa fa-chevron-right",class_body="showbox_body",class_media_image="img[data-fairbox]",urlYoutube="https://www.youtube.com/embed/",oldScroll,source,sourceImage,showbox_margin,nombre_media,showbox_media,Element,multiplicateur,showbox_preview,showbox_close,showbox_left,showbox_right,nombre_preview=1,FairBox;