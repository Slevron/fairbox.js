!function(i,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):i.Fairbox=t(i.jQuery)}(this,function(i){function t(i,t){this.type=i,this["class"]=t,this.switch_action(this.type,this["class"])}function e(i,t,e,o){this.type=i,this["class"]=t,this.src=e,this.url=o,this.object=null,this.switchType(this.type,this["class"],this.src,this.url)}function o(i,t,e){this.name=i,this.type=t,this["class"]=e,this.object=null,this.switch_icon(this.name,this.type,this["class"])}function n(){var t=this;i("img[data-fairbox]").click(function(){i(this).find('[data-fairbox!=""]')&&t.initPopup(i(this))})}function s(i,t,e,o,n){this.type=i,this["class"]=t,this.src=e,this.alt=n,this.container=o,this.object=null,this.createImage(this.type,this["class"],this.src,this.container,this.alt)}t.prototype.switch_action=function(i,t){switch(i){case"margin":this.add_margin(t);break;case"resize":this.resize_popup(t);break;case"add":this.add_class(t);break;case"scroll":this.save_scroll(t)}},t.prototype.save_scroll=function(t){c=i(t).scrollTop(),i(t).scrollTop(0)},t.prototype.add_class=function(t){i(b).addClass(t)},t.prototype.resize_popup=function(t){this.height=i(window).height(),i("."+t).css("height",this.height)},e.prototype.switchType=function(i,t,e,o){var n=this;null===e?null===o?this.createDiv(i,t):(this.createMedia(i,t,o),n.init_pos(t,{left:0,right:0})):(this.createImage(i,t,e),n.init_pos(t,{left:0,right:0}))},e.prototype.createDiv=function(t,e){switch(e===_?this.height=i(window).height()-100:this.height=i(window).height(),this.object=i(t,{"class":e,height:this.height}),e){case y:this.object.appendTo("body");break;case v:this.object.appendTo("."+_);break;default:this.object.appendTo("."+y)}},e.prototype.createImage=function(t,e,o){this.object=i(t,{id:z,"class":e,src:o}),this.object.appendTo("."+g)},e.prototype.createMedia=function(t,e,o){this.object=i(t,{"class":e,src:o,frameborder:0,width:i(window).width(),height:i(window).height()}),this.object.appendTo("."+g)},e.prototype.init_pos=function(t,e){var o=this;setTimeout(function(){i(o.object).css(e)},100)},o.prototype.switch_icon=function(i,t,e){switch(i){case"close":this.init_icon(i,t,e);break;case"direction-left":this.init_icon(i,t,e);break;case"direction-right":this.init_icon(i,t,e)}},o.prototype.init_icon=function(t,e,o){this.object=i(e,{id:"#"+t,"class":o}),this.object.appendTo("."+_)},o.prototype.close_icon=function(){i("."+y).remove(),i(b).removeClass(P),i(window).scrollTop(c)},o.prototype.arrow_icon=function(i,t){var e=this,o=11,n=d.index()%o,s=d.prev().index()%o;"direction-left"===i?d.index()>0&&(d=t||d.prev(),e.arrow_action(d),e.switchPreview(s,"+")):d.index()<r-1&&(d=t||d.next(),e.arrow_action(d),e.switchPreview(n,"-"))},o.prototype.arrow_action=function(t){i(".showbox_container").empty(),t.data("youtube")?(a=t.find("img").data("youtube")||t.data("youtube"),h=new e("<iframe>",x,null,D+a+"?autoplay=1")):(a=t.find("img").attr("src")||t.attr("src"),h=new e("<img>",x,a,null)),d=t},o.prototype.switchPreview=function(t,e){i(".preview_image").removeClass("active"),d.addClass("active");i(".showbox_container_preview").width();0===t&&0!==d.index()&&1!==d.index()&&("-"===e?l++:l--,this.switchDirection(e))},o.prototype.switchDirection=function(t){var e=1050*l;i(".showbox_second_preview").css("transform","translateX(-"+e+"px)")},n.prototype.option=function(i){this.disablePreview=i.disablePreview,this.disableSlider=i.disableSlider},n.prototype.initPopup=function(t){d=t,r=i(C).length,this.init_element(t,this.disablePreview),this.init_action(),this.init_icon(this.disableSlider)},n.prototype.init_element=function(t,o){new e("<div>",y,null,null),new e("<div>",_,null,null),new e("<div>",g,null,null);if(o!==!1){new e("<div>",v,null,null)}var n=new s("<div>",m,null,v);t.data("youtube")?(a=t.find("img").data("youtube")||t.data("youtube"),h=new e("<iframe>",x,null,D+a+"?autoplay=1")):(a=t.find("img").attr("src")||t.attr("src"),h=new e("<img>",x,a,null)),i("img[data-fairbox]").each(function(){var t,e=i(this).attr("src"),o=i(this).data("youtube");t=o?"video":"image",p=new s("<img>","preview_image  "+t,e,m,o),p.addActive(h)}),i(".preview_image").click(function(){i(this).index()!==d.index()&&(i(this).index()>d.index()?f.arrow_icon("direction-right",i(this)):w.arrow_icon("direction-left",i(this)))}),n.addWidth()},n.prototype.init_icon=function(i){u=new o("close","<i>",j),i!==!1&&(w=new o("direction-left","<i>",T),f=new o("direction-right","<i>",k)),this.init_input(u,f,w,"close","direction-right","direction-left")},n.prototype.init_action=function(){new t("scroll",window),new t("add",P);window.onresize=function(){new t("resize",y),new t("resize",_)}},n.prototype.init_input=function(t,e,o,n,s,c){l=0,i("."+n).click(function(i){t.close_icon()}),i("."+s).click(function(i){e.arrow_icon(s)}),i("."+c).click(function(i){o.arrow_icon(c)}),i(window).keydown(function(i){27==i.which&&t.close_icon(),39==i.which&&e.arrow_icon(s),37==i.which&&o.arrow_icon(c)}),this.mouseMove(window)},n.prototype.mouseMove=function(t){var e;t.addEventListener("mousemove",function(){i("."+_).css("opacity",1),clearTimeout(e),e=setTimeout(function(){i("."+_).css("opacity",0)},5e3)})},s.prototype.createImage=function(t,e,o,n,s){this.object=i(t,{id:z,"class":e,src:o,data:{youtube:s}}),this.object.appendTo("."+n)},s.prototype.addWidth=function(){i(this.object).css("width",i(this.object).children().width()*i(this.object).children().length)},s.prototype.addActive=function(t){i(t).attr("src")===i(this.object).attr("src")&&i(this.object).addClass("active")};var c,a,r,h,d,l,p,u,w,f,b="html,body",y="showbox",_="showbox_container_nav",v="showbox_container_preview",m="showbox_second_preview",g="showbox_container",x="showbox_media",j="showbox_icon close fa fa-times",T="showbox_icon direction-left fa fa-chevron-left",k="showbox_icon direction-right fa fa-chevron-right",P="showbox_body",z="image",C="img[data-fairbox]",D="https://www.youtube.com/embed/";return FairBox=new n});